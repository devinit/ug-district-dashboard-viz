<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>DI Chart Boilerplate</title>
  <meta name="description" content="" />
  <link rel="stylesheet" type="text/css" href="/assets/styles.css" />
  <link rel="stylesheet" type="text/css" href="/assets/css/screen.min.css" />
  <link rel="stylesheet" type="text/css" href="/assets/css/spotlights.min.css" />
  <link rel="stylesheet" type="text/css" href="/assets/icons/ico.data.svg.css" />
  <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" rel="stylesheet" />
  <link href="https://devinit.org/assets/css/di_website.min.2a5154f5c000.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mapbox-gl/2.12.0/mapbox-gl.min.css" rel="stylesheet" />
</head>

<body class="body">
  <div class="ui-base">
    <main id="pagecontent" class="pagecontent -nofocus" role="main" tabindex="-1">
      <section class="section">
        <div class="row row--narrow">
          <div class="chart-container chart-container--full">
            <div class="charts__chart">
              <!-- CODE TO COPY STARTS HERE {% endcomment %} -->
              <div class="district-selectors"></div>
              <!-- CODE TO COPY ENDS HERE {% endcomment %} -->

              <div class="chart-loading">
                <div class="chart-loading__block">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="row row--narrow">
          <h3 class="type-l type-l--trailer">District Map</h3>
          <div class="chart-container chart-container--full">
            <div class="charts__chart">
              <!-- CODE TO COPY STARTS HERE {% endcomment %} -->
              <div class="dicharts--district-map"></div>
              <!-- CODE TO COPY ENDS HERE {% endcomment %} -->
              <div class="chart-loading">
                <div class="chart-loading__block">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="row row--narrow">
          <h3 class="type-l type-l--trailer">Key Facts</h3>
          <div class="chart-container chart-container--full">
            <div class="charts__chart">
              <!-- CODE TO COPY STARTS HERE {% endcomment %} -->
              <div class="dicharts--keyfacts"></div>
              <!-- CODE TO COPY ENDS HERE {% endcomment %} -->
              <div class="chart-loading">
                <div class="chart-loading__block">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="row row--narrow">
          <h3 class="type-l type-l--trailer">Number of schools</h3>
          <div class="chart-container chart-container--full">
            <div class="charts__chart">
              <!-- CODE TO COPY STARTS HERE {% endcomment %} -->
              <div class="dicharts--number-of-schools__selectors"></div>
              <div class="dicharts--number-of-schools"></div>
              <!-- CODE TO COPY ENDS HERE {% endcomment %} -->

              <div class="chart-loading">
                <div class="chart-loading__block">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="row row--narrow">
          <h3 class="type-l type-l--trailer">Government Primary School Enrolment</h3>
          <div class="chart-container chart-container--full">
            <div class="charts__chart">
              <!-- CODE TO COPY STARTS HERE {% endcomment %} -->
              <div class="dicharts--learners-enrolment-selectors"></div>
              <div class="dicharts--learners-enrolment"></div>
              <!-- CODE TO COPY ENDS HERE {% endcomment %} -->

              <div class="chart-loading">
                <div class="chart-loading__block">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="row row--narrow">
          <h3 class="type-l type-l--trailer">PLE Performance Analysis 2018 - 2020</h3>
          <div class="chart-container chart-container--full">
            <div class="charts__chart">
              <!-- CODE TO COPY STARTS HERE {% endcomment %} -->
              <div class="dicharts--ple-performance-selectors"></div>
              <div class="dicharts--ple-performance-analysis"></div>
              <!-- CODE TO COPY ENDS HERE {% endcomment %} -->

              <div class="chart-loading">
                <div class="chart-loading__block">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="row row--narrow">
          <h3 class="type-l type-l--trailer">Education Institutions</h3>
          <div class="chart-container chart-container--full">
            <div class="charts__chart">
              <!-- CODE TO COPY STARTS HERE {% endcomment %} -->
              <div class="dicharts--education-institutions"></div>
              <!-- CODE TO COPY ENDS HERE {% endcomment %} -->

              <div class="chart-loading">
                <div class="chart-loading__block">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

  <script src="https://cdn.jsdelivr.net/npm/echarts@5.1.2/dist/echarts.min.js"></script>
  <script src="https://d3js.org/d3.v4.js"></script>
  <script src="https://devinit.org/assets/js/app.bundle.15a22136aec7.js"></script>
  <script src="https://devinit.org/assets/visualisation/js/dicharts.8dcf468d3b56.js"></script>
  <script>

    const masindiSubCounties = ['Bwijanga', 'Budongo', 'Karujubu', 'Kigulya', 'Kimengo', 'Central', 'Miirya', 'Nyangahya', 'Pakanyi'];
    const mapMapping = {
      'Karujubu': 'Karujubu Division',
      'Nyangahya': 'Nyangahya Division',
      'Central': 'Central Division',
      'Kigulya': 'Kigulya Division',
      'KARUJUBU DIVISION': 'Karujubu',
      'NYANGAHYA DIVISION': 'Nyangahya',
      'CENTRAL DIVISION': 'Central',
      'KIGULYA DIVISION': 'Kigulya',
    }
    const mapFormatter = (value, target = 'map') => {
      if (Object.keys(mapMapping).map((key) => key.toUpperCase()).includes(value.toUpperCase())) {
        return mapMapping[value].toUpperCase();
      }

      return value.toUpperCase();
    }
    const topics = [
      {
        id: 'education',
        name: 'Education',
        // yearRange: [2016, 2021],
        dashboardUrl: '',
        dashboardButtonCaption: 'View Education Dashboard',
        indicators: [
          {
            id: 'numberOfPrimarySchools',
            name: 'Number of Primary Schools (All)',
            description: 'All government and private schools in Masindi district, by sub-county',
            //colours: ['#faa2c1', '#f06595', '#d6336c', '#c2255c', '#a61e4d'],
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [5, 10, 15, 20],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number_of_schools.csv',
            yearRange: [2014, 2022],
            excludeYears: [2015, 2017, 2019, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              level: ['Primary'],
            },
          },
          {
            id: 'numberOfGovernmentPrimarySchools',
            name: 'Number of Primary Schools (Government)',
            description: 'All government schools in Masindi district, by sub-county',
            //colours: ['#faa2c1', '#f06595', '#d6336c', '#c2255c', '#a61e4d'],
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [5, 10, 15, 20],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number_of_schools.csv',
            yearRange: [2014, 2022],
            excludeYears: [2015, 2017, 2019, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              level: ['Primary'],
              ownership: ['Government'],
            },
          },
          {
            id: 'numberOfPrivatePrimarySchools',
            name: 'Number of Primary Schools (Private)',
            description: 'All private schools in Masindi district, by sub-county',
            //colours: ['#faa2c1', '#f06595', '#d6336c', '#c2255c', '#a61e4d'],
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [5, 10, 15, 20],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number_of_schools.csv',
            yearRange: [2016, 2022],
            excludeYears: [2017, 2019, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              level: ['Primary'],
              ownership: ['Private'],
            },
          },
          {
            id: 'numberOfSecondarySchools',
            name: 'Number of Secondary Schools (All)',
            description: 'All secondary schools in Masindi district, by sub-county.',
            colours: ['#faa2c1', '#f06595', '#d6336c', '#c2255c', '#a61e4d'],
            range: [2, 5, 10],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number_of_schools.csv',
            yearRange: [2014, 2022],
            excludeYears: [2015, 2017, 2019, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              level: ['Secondary'],
            },
          },
          {
            id: 'numberOfGovernmentSecondarySchools',
            name: 'Number of Secondary Schools (Government)',
            description: 'All government secondary schools in Masindi district, by sub-county.',
            colours: ['#faa2c1', '#f06595', '#d6336c', '#c2255c', '#a61e4d'],
            range: [2, 5, 10],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number_of_schools.csv',
            yearRange: [2014, 2022],
            excludeYears: [2015, 2017, 2019, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              level: ['Secondary'],
              ownership: ['Government']
            },
          },
          {
            id: 'numberOfPrivateSecondarySchools',
            name: 'Number of Secondary Schools (Private)',
            description: 'All private secondary schools in Masindi district, by sub-county.',
            colours: ['#faa2c1', '#f06595', '#d6336c', '#c2255c', '#a61e4d'],
            range: [2, 5, 10],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number_of_schools.csv',
            yearRange: [2014, 2022],
            excludeYears: [2015, 2017, 2019, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              level: ['Secondary'],
              ownership: ['Private']
            },
          },
          {
            id: 'primaryEnrolment',
            name: 'Primary School Enrolment (All)',
            description: 'Number of pupils enroled in Masindi primary schools, by sub-country',
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/primary_school_enrolment.csv',
            colours: ['#fdeee7', '#faccb8', '#f6a988', '#f38758', '#f06529'],
            range: [2000, 3000, 5000, 8000],
            yearRange: [2014, 2022],
            excludeYears: [2015, 2016, 2017, 2018, 2019],
            mapping: {
              location: 'subcounty',
              value: 'subtotal',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              ownership: ['Government'],
            },
          },
          {
            id: 'secondaryEnrolment',
            name: 'Secondary School Enrolment (All)',
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/secondary_school_enrolment.csv',
            colours: ['#fdeee7', '#faccb8', '#f6a988', '#f38758', '#f06529'],
            range: [500, 600, 700, 800],
            yearRange: [2014, 2014],
            mapping: {
              location: 'subcounties',
              value: 'subtotal',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
          },
        ],
      },
      {
        id: 'production',
        name: 'Production',
        dashboardUrl: '',
        dashboardButtonCaption: 'View Production Dashboard',
        indicators: [
          {
            id: 'maizeProduction',
            name: 'Maize Production (in tons)',
            //description: 'All government and private schools in Masindi district, by sub-county',
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [2000, 4000, 6000, 8000],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/estimated%20food%20security%20crop%20production%20levels.json',
            yearRange: [2017, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              crop: ['Maize'],
            },
          },
          {
            id: 'bananaProduction',
            name: 'Banana Production (in tons)',
            //description: 'All government and private schools in Masindi district, by sub-county',
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [2000, 4000, 6000, 8000],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/estimated%20food%20security%20crop%20production%20levels.json',
            yearRange: [2017, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              crop: ['Bananas'],
            },
          },
          {
            id: 'cassaveProduction',
            name: 'Cassava Production (in tons)',
            //description: 'All government and private schools in Masindi district, by sub-county',
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [2000, 4000, 6000, 8000],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/estimated%20food%20security%20crop%20production%20levels.json',
            yearRange: [2017, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              crop: ['Cassava'],
            },
          },
          {
            id: 'beansProduction',
            name: 'Beans Production (in tons)',
            //description: 'All government and private schools in Masindi district, by sub-county',
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [2000, 4000, 6000, 8000],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/estimated%20food%20security%20crop%20production%20levels.json',
            yearRange: [2017, 2021],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              crop: ['Beans'],
            },
          },
          {
            id: 'cattleProduction',
            name: 'Number of Cattle (local)',
            //description: 'All government and private schools in Masindi district, by sub-county',
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [15000, 30000, 50000, 80000],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number%20of%20livestock.json',
            yearRange: [2013, 2022],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              crop: ['Local cattle'],
            },
          },
          {
            id: 'exoticCattleProduction',
            name: 'Number of Cattle (exotic)',
            //description: 'All government and private schools in Masindi district, by sub-county',
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [15000, 30000, 50000, 80000],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number%20of%20livestock.json',
            yearRange: [2013, 2022],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              crop: ['Exotic cross Breed Cattle'],
            },
          },
          {
            id: 'goalProduction',
            name: 'Number of Goats (local)',
            //description: 'All government and private schools in Masindi district, by sub-county',
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [15000, 30000, 50000, 80000],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number%20of%20livestock.json',
            yearRange: [2013, 2022],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              crop: ['Local Goats'],
            },
          },
          {
            id: 'pigProduction',
            name: 'Number of Pigs',
            //description: 'All government and private schools in Masindi district, by sub-county',
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [15000, 30000, 50000, 80000],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number%20of%20livestock.json',
            yearRange: [2013, 2022],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              crop: ['Pigs'],
            },
          },
          {
            id: 'chickenProduction',
            name: 'Number of Chicken (local)',
            //description: 'All government and private schools in Masindi district, by sub-county',
            colours: ['#1a3e53', '#2b6587', '#357ba5', '#78b1d4', '#ecf4f9'].reverse(),
            range: [15000, 30000, 50000, 80000],
            url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number%20of%20livestock.json',
            yearRange: [2013, 2022],
            mapping: {
              location: 'subcounty',
              value: 'value',
              year: 'year',
            },
            aggregator: 'sum', //either sum, avg
            filters: {
              crop: ['Local Chicken'],
            },
          },
        ]
      }
    ];

    const state = {
      location: {
        name: 'Masindi',
        fullName: 'Masindi District',
        coordinates: [31.766240227362417, 1.8818134163990712],
        // coordinates: [32.86415441783307, 0.9460935176075392], // Kayunga coordinates
      },
      selectors: [
        {
          id: 'subcounty',
          url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/sub-counties.csv',
          label: 'Select sub-county',
          defaultValue: { value: 'all', label: 'All sub-counties' },
          stateProperty: 'subCounty',
          valueProperty: 'Name',
          labelProperty: 'Name',
        },
      ],
      map: {
        filters: {
          topicLabel: 'Select a topic to explore',
          indicatorLabel: 'Choose an indicator',
          yearLabel: 'Choose a year',
        },
        data: topics,
        options: {
          zoom: 10,
          maxZoom: 12,
        },
        formatter: mapFormatter,
      },
      keyFacts: {
        url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/dev/public/assets/data/masindi/District%20Profile.csv',
        tabs: [
          {
            id: 'overview',
            show: true, // defaults to true
            label: 'Overview'
          },
          {
            id: 'education',
            dashboardURL: 'https://datahub.go.ug/district-dashboards/masindi/education/', // when undefined, button is not shown
            dashboardButtonCaption: 'View Education Dashboard',
          },
          {
            id: 'production',
            show: true,
            dashboardURL: 'https://datahub.go.ug/district-dashboards/masindi/production/',
            dashboardButtonCaption: 'View Production Dashboard',
          },
        ],
      },
      charts: [
        {
          target: 'education',
          className: 'dicharts--number-of-schools',
          url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/number_of_schools.csv',
          type: 'bar-stacked',
          typeOptions: [{ value: 'bar-stacked', label: 'Bar Chart (Stacked)' }, { value: 'bar', label: 'Bar Chart' }, { value: 'line', label: 'Line Chart' }, { value: 'area', label: 'Area Chart' }],
          // yearRange: [2014, 2022],
          series: ['Government', 'Private'],
          mapping: {
            series: 'ownership',
            year: 'year',
            value: 'value',
            subCounty: 'subcounty',
            level: 'level',
          },
          filters: {
            subcounty: masindiSubCounties,
          },
          options: {
            legend: { show: true },
            yAxis: { name: 'Number of schools'}
          },
          selectorClassName: 'dicharts--number-of-schools__selectors',
          selectors: [
            {
              data: [
                { value: 'primary', label: 'Primary' },
                { value: 'secondary', label: 'Secondary' }
              ],
              label: 'Select level',
              defaultValue: { value: 'all', label: 'Primary and secondary' },
              valueProperty: 'value',
              labelProperty: 'label',
              dataProperty: 'level'
            },
          ],
          table: {
            target: 'education',
            yearRange: [2016, 2021],
            rows: ['Government', 'Private'],
            mapping: {
              rows: 'ownership',
              year: 'year',
              value: 'value',
              subCounty: 'subcounty',
              level: 'level',
            },
          },
        },
        {
          target: 'education',
          className: 'dicharts--learners-enrolment',
          url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/raw/primary_school_enrolment.csv',
          // yearRange: [2014, 2021], // when not specified, year range is taken from the data
          // excludeYears: [2016, 2018], // used to exclude years you don't wish to appear
          type: 'bar-stacked',
          typeOptions: [{ value: 'bar-stacked', label: 'Bar Chart (Stacked)' }, { value: 'bar', label: 'Bar Chart' }, { value: 'line', label: 'Line Chart' }, { value: 'area', label: 'Area Chart' }],
          series: ['Boys', 'Girls'],
          mapping: {
            series: 'gender',
            year: 'year',
            value: 'subtotal',
            subCounty: 'subcounty',
          },
          filters: {
            subcounty: masindiSubCounties,
          },
          options: {
            yAxis: { name: 'Pupils enrolled' },
          },
          table: {
            yearRange: [2014, 2022],
            excludeYears: [2015, 2016, 2017, 2018, 2019],
            rows: ['Boys', 'Girls'],
            mapping: {
              rows: 'gender',
              year: 'year',
              value: 'subtotal',
              subCounty: 'subcounty'
            },
          },
        },
        {
          target: 'education',
          className: 'dicharts--ple-performance-analysis',
          url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/ple_analysis.json',
          yearRange: [2018, 2020],
          series: ['Division 1', 'Division 2', 'Division 3', 'Division 4'],
          mapping: {
            series: 'grade',
            year: 'year',
            value: 'value',
            subCounty: 'subcounty',
          },
          aggregator: 'sum',
          type: 'bar',
          typeOptions: [{ value: 'bar', label: 'Bar Chart' }, { value: 'bar-stacked', label: 'Bar Chart (Stacked)' }, { value: 'area', label: 'Area Chart' }, { value: 'line', label: 'Line Chart' }],
          options: {
            yAxis: { name: 'PLE Performance' },
            series: [
              { barGap: 0 },
              {},
              {},
              { label: { show: false } }
            ]
          },
          selectorClassName: 'dicharts--ple-performance-selectors',
          selectors: [
            {
              label: 'Select gender',
              defaultValue: { value: 'all', label: 'All' },
              dataProperty: 'gender',
              valueProperty: 'value',
              labelProperty: 'label',
              data: [
                { value: 'male', label: 'Male' },
                { value: 'female', label: 'Female' },
              ],
            },
            {
              label: 'Select ownership',
              defaultValue: { value: 'all', label: 'All' },
              dataProperty: 'ownership',
              valueProperty: 'value',
              labelProperty: 'label',
              data: [
                { value: 'government', label: 'Government' },
                { value: 'private', label: 'Private' },
              ],
            },
          ],
          table: {
            yearRange: [2018, 2020],
            rows: ['Division 1', 'Division 2', 'Division 3', 'Division 4'],
            mapping: {
              rows: 'grade',
              year: 'year',
              value: 'value',
              subCounty: 'subcounty'
            },
          },
        },
        {
          target: 'education',
          className: 'dicharts--education-institutions',
          url: 'https://raw.githubusercontent.com/devinit/ug-district-dashboard-viz/main/public/assets/data/masindi/number_of_education_institutions.csv',
          yearRange: [],
          series: ['Pre-Primary Schools', 'Primary Schools', 'Secondary Schools', 'Teacher Training Colleges', 'Technical Colleges', 'Technical Schools', 'Universities'],
          mapping: {
            series: 'institution',
            year: 'year',
            value: 'value',
            subCounty: 'subcounty',
          },
          aggregator: 'sum',
          type: 'pie',
          options: {
            yAxis: { show: false },
            xAxis: { show: false },
            tooltip: { trigger: 'item' },
            legend: {
              orient: 'vertical',
              left: 20,
              top: 'middle',
              selectedMode: true,
            },
            series: [
              {
                label: { formatter: '{b} ({c})' }
              }
            ]
          },
        },
      ],
      tables: [],
    };
    if (window.DIState) {
      window.DIState.setState(state);
    } else {
      const intervalID = window.setInterval(() => {
        if (window.DIState) {
          window.DIState.setState(state);
          window.clearInterval(intervalID);
        }
      }, 500);
    }
  </script>
</body>

</html>
