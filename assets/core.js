(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(67)},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(23),c=n(9),o=function(){function e(){this.id=Math.random(),this.state={},this.listeners=[],Object(c.d)(this,{state:c.e,setState:c.a,getState:c.c})}var t=e.prototype;return t.setState=function(e,t){void 0===t&&(t=!0),this.state=t?Object.assign({},this.state,e):e},t.addListener=function(e){return this.listeners=this.listeners.concat(Object(c.b)(e)),this.listeners.length-1},t.removeListener=function(e){e<this.listeners.length&&this.listeners[e]&&(this.listeners[e](),this.listeners[e]=null)},t.resetListeners=function(){this.listeners=[]},Object(a.a)(e,[{key:"getState",get:function(){return this.state}}]),e}();window.DIState=new o;var i,r=n(1),s=n(13),l=n(18),u=n.n(l),d=n(24),p=n(0),b=n.n(p),f=n(2),O=n.n(f),j=n(3),m=n(14),h=m.a.div(i||(i=Object(j.a)(["\n  color: red;\n  font-size: 11px;\n  position: relative;\n  padding: 5px 5px 5px 0px;\n  display: block;\n"]))),g=function(e){var t=Object(p.useState)(""),n=t[0],a=t[1],c=function(t){t?"maxSelectedOptions"===t.type&&a(e.selectErrorMessage):a("")};return b.a.createElement("div",null,b.a.Children.map(e.children,(function(e){return b.a.isValidElement(e)?b.a.cloneElement(e,{onError:c}):e})),n?b.a.createElement(h,{className:"data-selector--wrapper"},n):null)};g.propTypes={selectErrorMessage:O.a.string,children:O.a.node};var v=g,y=n(25),w=n(26),x=n(29),S={control:function(e){return Object.assign({},e,{borderColor:"#ddd",borderRadius:"none",boxShadow:"none",":hover":{borderColor:"#8f1b13"},":active":{borderColor:"#8f1b13"}})},option:function(e){return Object.assign({},e,{fontSize:"14px"})},singleValue:function(e){return Object.assign({},e,{fontSize:"14px"})},multiValue:function(e){return Object.assign({},e,{fontSize:"14px"})},multiValueLabel:function(e,t){return t.data.isCloseable?e:Object.assign({},e,{paddingRight:6})},multiValueRemove:function(e,t){return t.data.isCloseable?e:Object.assign({},e,{display:"none"})},input:function(e){return Object.assign({},e,{fontSize:"14px"})},indicatorsContainer:function(e){return Object.assign({},e,{pointerEvents:"none"})}},E=function(e){var t=e.label,n=e.onError,a=e.maxSelectedOptions,c=e.defaultValue,o=e.singleSelectOptions,i=Object(w.a)(e,["label","onError","maxSelectedOptions","defaultValue","singleSelectOptions"]),s=Object(p.useState)(c),l=s[0],u=s[1];Object(p.useEffect)((function(){i.onChange&&i.onChange(l),n&&n()}),[l]);return Object(r.c)("div",{className:"labelled-data-selector--wrapper"},Object(r.c)("label",null,Object(r.c)("b",null,t)),Object(r.c)(x.a,Object(y.a)({},i,{value:l,onChange:function(e){if(i.isMulti)if(e.length){var t=e.findIndex((function(e){return o.find((function(t){return t.value===e.value}))}));i.isMulti&&e.length>1&&-1!==t?u(0===t?e.slice(1):[e[t]]):a&&e.length>a?n&&n({type:"maxSelectedOptions",message:"Only up to "+a+" selections allowed"}):u(e)}else u(c);else u(e)},css:{marginRight:"25px"},styles:S,isClearable:"undefined"!==i.isClearable?i.isClearable:l.length>1})))};E.propTypes={label:O.a.string,options:O.a.array,maxSelectedOptions:O.a.number,onChange:O.a.func,onError:O.a.func,defaultValue:O.a.array,singleSelectOptions:O.a.array,isMulti:O.a.bool,isClearable:O.a.bool},E.defaultProps={maxSelectedOptions:2,singleSelectOptions:[]};var N=E,C=n(27);var L=function(e,t){void 0===t&&(t="");var n=Number(e);return Number.isNaN(n)?t:new Intl.NumberFormat("en-GB",{maximumFractionDigits:2}).format(n)},_=function(e){return e.endsWith("csv")?function(e){return new Promise((function(t){Object(C.parse)(e,{download:!0,header:!0,skipEmptyLines:!0,complete:function(e){var n=e.data;return t(n)}})}))}(e):window.fetch(e).then((function(e){return e.json()}))},k=function(e){var t=Object(p.useState)([]),n=t[0],a=t[1];Object(p.useEffect)((function(){e.configs&&Promise.all(e.configs.map(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n={label:t.label,defaultValue:t.defaultValue,stateProperty:t.stateProperty}).options=t.defaultValue?[t.defaultValue]:[],a=t.data||[],!t.url){e.next=7;break}return e.next=6,_(t.url);case 6:a=e.sent;case 7:return n.options=n.options.concat(a.reduce((function(e,n){return e.find((function(e){return e[t.valueProperty]===n[t.valueProperty]}))||e.push({value:n[t.valueProperty],label:n[t.labelProperty]}),e}),[])),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then(a).catch((function(e){return window.console.log(e)}))}),[e.configs]);return Object(r.c)(v,{selectErrorMessage:""},n.map((function(e){var t=e.label,n=e.options,a=e.defaultValue,c=e.stateProperty;return Object(r.c)(N,{key:t,label:t,options:n,classNamePrefix:"subcounty-filter sticky-top",isClearable:!1,defaultValue:[Object.assign({},a,{isCloseable:!0})],onChange:function(e){var t;window.DIState.setState(((t={})[c]=e.value,t))},css:{minWidth:"200px"}})})))};k.propTypes={configs:O.a.arrayOf(O.a.shape({url:O.a.string,label:O.a.string.isRequired,defaultValue:O.a.shape({value:O.a.string,label:O.a.string}),stateProperty:O.a.string.isRequired,labelProperty:O.a.string.isRequired,valueProperty:O.a.string.isRequired}))};var P,I,R,D,z,T,V=k,A=function(e){window.DICharts.handler.addChart({className:e,d3:{onAdd:function(e){Array.prototype.forEach.call(e,(function(e){var t=new window.DICharts.Chart(e.parentElement);t.showLoading(),e.closest(".section").classList.add("sticky");var n=function(e){var t,n=document.createElement("div");return(t=n.classList).add.apply(t,["spotlight-banner","data-selector--wrapper"]),e.parentElement.insertBefore(n,e),n}(e),a=Object(s.createRoot)(n);window.DIState?window.DIState.addListener((function(){t.showLoading();var e=window.DIState.getState.selectors;e?(Array.isArray(e)||window.console.log("Invalid value for selectors - an Array is expected. Please review the documentation!"),a.render(Object(r.c)(V,{configs:e}))):window.console.log("Waiting on state update ...")})):window.console.log("State is not defined"),t.hideLoading(),e.parentElement.classList.add("auto-height")}))}}})},U=(n(66),Object(p.createContext)()),q=n(28),F=function(e){var t=e.close,n=e.description,a=e.source;return Object(r.c)("div",{className:"spotlight-modal",css:Object(r.b)(I||(I=Object(j.a)(["\n        font-size: 12px;\n      "])))},Object(r.c)("a",{className:"close",onClick:t,css:Object(r.b)(R||(R=Object(j.a)(["\n          cursor: pointer;\n          position: absolute;\n          display: block;\n          padding: 5px 10px;\n          line-height: 20px;\n          right: 0px;\n          top: 0px;\n          font-size: 20px;\n          background: transparent;\n          color: #333131;\n          font-weight: 900;\n        "])))},"Ã—"),Object(r.c)("div",{className:"content",css:Object(r.b)(D||(D=Object(j.a)(["\n          width: 100%;\n          padding: 10px 5px 10px 5px;\n        "])))},Object(r.c)("p",{className:"description",css:Object(r.b)(z||(z=Object(j.a)(["\n            font-size: 14px;\n          "])))},n),a?Object(r.c)(b.a.Fragment,null,Object(r.c)("br",null),Object(r.c)("p",{className:"source",css:Object(r.b)(T||(T=Object(j.a)(["\n                text-align: left;\n              "])))},a?Object(r.c)(b.a.Fragment,null,Object(r.c)("b",{css:Object(r.b)(P||(P=Object(j.a)(["\n              font-family: Geomanist Bold, sans-serif;\n            "])))},"Source:"," "),a):null)," "):null))};F.propTypes={description:O.a.oneOfType([O.a.string,O.a.element]),source:O.a.string,close:O.a.func.isRequired};var M,B,W=F,G=function(e){return Object(r.c)(q.a,{trigger:Object(r.c)("span",{className:"spotlight__stat-icon",css:Object(r.b)(M||(M=Object(j.a)(["\n            display: inline-flex;\n            margin-left: 2px;\n            cursor: pointer;\n            padding: 8px;\n          "])))},Object(r.c)("i",{onClick:function(){document.querySelectorAll(".popup-content ").forEach((function(e){e.setAttribute("style","display:none;")}))},role:"presentation","aria-hidden":"true",className:"ico ico--12 ico-info-slate",css:Object(r.b)(B||(B=Object(j.a)(["\n              top: -1px;\n            "])))})),offsetX:20,arrowStyle:{height:"10px",width:"10px",position:"absolute",background:"rgb(255, 255, 255)",transform:"rotate(225deg)",margin:"-5px",zIndex:-1,boxShadow:"rgb(0 0 0 / 20%) 1px 1px 1px",bottom:"0%",left:"82px"},position:"bottom center",closeOnDocumentClick:!0,contentStyle:{zIndex:200,width:"350px",background:"#fff",fontWeight:400,fontStyle:"normal",fontSize:"12px",color:"#60575d",border:0,borderRadius:"0.28571429rem",boxShadow:"0 2px 4px 0 rgba(34, 36, 38, 0.12), 0 2px 10px 0 rgba(34, 36, 38, 0.15)",padding:"5px"}},(function(t){return Object(r.c)(W,{close:t,description:e.description,source:e.source})}))};G.propTypes={description:O.a.oneOfType([O.a.string,O.a.element]),source:O.a.string};var J=G,X=function(e){var t=e.meta,n=void 0===t?{}:t,a=e.heading,c=e.children;return b.a.createElement("div",{className:"spotlight__stat"},b.a.createElement("h3",{className:"spotlight__stat-heading"},a,n.description||n.source?b.a.createElement(J,{description:n.description,source:n.source}):null),c)};X.defaultProps={meta:{}},X.propTypes={heading:O.a.string,meta:O.a.shape({description:O.a.oneOfType([O.a.string,O.a.element]),source:O.a.string}),children:O.a.any};var H,K=X,Q=function(e){var t=e.value,n=e.note;return Object(r.c)("p",{className:"spotlight__stat-data"},t,n&&n.content?Object(r.c)("span",{className:"spotlight__stat-data__note",css:Object(r.b)(H||(H=Object(j.a)(["\n          transform: none;\n          position: relative;\n          top: -10px;\n        "])))},n.content," ",n.meta?Object(r.c)(J,{description:n.meta.description,source:n.meta.source}):null):null)};Q.propTypes={note:O.a.object,value:O.a.string};var Y,Z=Q,$=function(e){var t=e.children;return Object(r.c)("article",{className:"tabs__content",css:Object(r.b)(Y||(Y=Object(j.a)(["\n      z-index: 200;\n    "])))},t)};$.propTypes={children:O.a.any};var ee=$,te=function(e){var t=e.id,n=e.active,a=e.label,c=e.children,o=e.onActivate;return b.a.createElement("section",{className:"tabs__container",id:t},b.a.createElement("input",{className:"tabs__input",type:"radio",name:"sections",id:t+"-option",defaultChecked:n}),b.a.createElement("label",{className:"tabs__label",htmlFor:t+"-option",onClick:o},a),p.Children.map(c,(function(e){return Object(p.isValidElement)(e)&&e.type===ee?e:null})))};te.propTypes={id:O.a.string.isRequired,label:O.a.string.isRequired,active:O.a.bool,onActivate:O.a.func,children:O.a.any};var ne=te,ae=function(e){var t=e.children,n=e.onClick;return b.a.createElement("div",{className:"tabs__content__header",onClick:n},t)};ae.propTypes={children:O.a.any,onClick:O.a.func};var ce,oe,ie,re,se,le,ue,de,pe,be,fe,Oe,je,me,he,ge,ve,ye=ae,we=function(){var e=Object(p.useContext)(U),t=e.data,n=e.location,a=e.options,c=t&&t.education?t.education.find((function(e){return"Number of Schools"===e.caption})):null;return Object(r.c)(ne,{id:"education",label:"Education"},Object(r.c)(ee,null,Object(r.c)(ye,null,c?Object(r.c)("div",{css:Object(r.b)(ce||(ce=Object(j.a)(["\n                display: flex;\n              "])))},Object(r.c)("div",{css:Object(r.b)(oe||(oe=Object(j.a)(["\n                  margin-right: 1rem;\n                "])))},Object(r.c)("span",{css:Object(r.b)(ie||(ie=Object(j.a)(["\n                    font-size: 2.5rem;\n                  "])))},"Number of Schools in ",n.name," is"," "),Object(r.c)("b",{css:Object(r.b)(re||(re=Object(j.a)(["\n                    font-size: 3rem;\n                  "])))},L(c.value)),Object(r.c)(J,{description:"Last updated: "+c.lastUpdated})),a.dashboardURL?Object(r.c)("a",{href:a.dashboardURL,className:"button button--secondary--fill"},a.dashboardButtonCaption||"View Full Dashboard"):null):null),Object(r.c)("div",{className:"l-2up"},t&&t.education?t.education.filter((function(e){return"Number of Schools"!==e.caption})).map((function(e){return Object(r.c)("div",{className:"l-2up__col",key:e.caption},Object(r.c)(K,{heading:e.caption,meta:{description:Object(r.c)("span",{css:Object(r.b)(se||(se=Object(j.a)(["\n                              display: flex;\n                              justify-content: center;\n                            "])))},"Last updated: "+e.lastUpdated)}},Object(r.c)(Z,{value:e.value})))})):null)))},xe=function(){var e=Object(p.useContext)(U),t=e.data,n=e.location,a=e.options;return Object(r.c)(ne,{id:"overview",label:"Overview",active:!0},Object(r.c)(ee,null,Object(r.c)(ye,null,t&&t.population?Object(r.c)("div",{css:Object(r.b)(le||(le=Object(j.a)(["\n                display: flex;\n              "])))},Object(r.c)("div",{css:Object(r.b)(ue||(ue=Object(j.a)(["\n                  margin-right: 1rem;\n                "])))},Object(r.c)("span",{css:Object(r.b)(de||(de=Object(j.a)(["\n                    font-size: 2.5rem;\n                  "])))},"Total Population in ",n.name," is"," "),Object(r.c)("b",{css:Object(r.b)(pe||(pe=Object(j.a)(["\n                    font-size: 3rem;\n                  "])))},L(t.population.value)),Object(r.c)(J,{description:"Last updated: "+t.population.lastUpdated})),a.dashboardURL?Object(r.c)("a",{href:a.dashboardURL,className:"button button--secondary--fill"},a.dashboardButtonCaption||"View Full Dashboard"):null):null),Object(r.c)("div",{className:"l-2up"},t&&t.administration?t.administration.map((function(e){return Object(r.c)("div",{className:"l-2up__col",key:e.caption},Object(r.c)(K,{heading:e.caption,meta:{description:Object(r.c)("span",{css:Object(r.b)(be||(be=Object(j.a)(["\n                            display: flex;\n                            justify-content: center;\n                          "])))},"Last updated: "+e.lastUpdated)}},Object(r.c)(Z,{value:e.value})))})):null)))},Se=function(){var e=Object(p.useContext)(U),t=e.data,n=e.location,a=e.options,c=t&&t.production?t.production.find((function(e){return""===e.caption})):null,o=function(){return a.dashboardURL?Object(r.c)("a",{href:a.dashboardURL,className:"button button--secondary--fill"},a.dashboardButtonCaption||"View Full Dashboard"):null};return Object(r.c)(ne,{id:"production",label:"Production"},Object(r.c)(ee,null,c?Object(r.c)(ye,null,Object(r.c)("div",{css:Object(r.b)(fe||(fe=Object(j.a)(["\n                display: flex;\n              "])))},Object(r.c)("div",{css:Object(r.b)(Oe||(Oe=Object(j.a)(["\n                  margin-right: 1rem;\n                "])))},Object(r.c)("span",{css:Object(r.b)(je||(je=Object(j.a)(["\n                    font-size: 2.5rem;\n                  "])))},"Number of Schools in ",n.name," is"," "),Object(r.c)("b",{css:Object(r.b)(me||(me=Object(j.a)(["\n                    font-size: 3rem;\n                  "])))},L(c.value)),Object(r.c)(J,{description:"Last updated: "+c.lastUpdated})),o())):o(),t&&t.production&&t.production.length?Object(r.c)("div",{className:"l-2up"},t.production.filter((function(e){return""!==e.caption})).map((function(e){return Object(r.c)("div",{className:"l-2up__col",key:e.caption},Object(r.c)(K,{heading:e.caption,meta:{description:Object(r.c)("span",{css:Object(r.b)(he||(he=Object(j.a)(["\n                            display: flex;\n                            justify-content: center;\n                          "])))},"Last updated: "+e.lastUpdated)}},Object(r.c)(Z,{value:e.value})))}))):Object(r.c)("div",{css:Object(r.b)(ge||(ge=Object(j.a)(["\n              font-size: 16px;\n              display: flex;\n              justify-content: center;\n              width: 100%;\n            "])))},"No Production Data")))},Ee=function(e){var t=e.children;return Object(r.c)("div",{className:"tabs",css:Object(r.b)(ve||(ve=Object(j.a)(["\n      z-index: 0;\n    "])))},t)};Ee.propTypes={children:O.a.any};var Ne=Ee,Ce=function(e){var t=Object(p.useState)({}),n=t[0],a=t[1];return Object(p.useEffect)((function(){e.data&&a(function(e){var t={},n=function(e){return{caption:e.Item,value:e.Value,lastUpdated:e["Last Updated"]}},a=e.find((function(e){return"Total Population"===e.Item}));return a&&(t.population=n(a)),t.administration=e.filter((function(e){return"Total Population"!==e.Item&&"Administration"===e.Department})).map(n),t.education=e.filter((function(e){return"Total Population"!==e.Item&&"Education"===e.Department})).map(n),t.production=e.filter((function(e){return"Total Population"!==e.Item&&"Production"===e.Department})).map(n),t}(e.data))}),[e.data]),Object(r.c)(U.Provider,{value:Object.assign({},e,{data:n})},Object(r.c)(Ne,null,Object(r.c)(xe,null),Object(r.c)(we,null),Object(r.c)(Se,null)))};Ce.propTypes={data:O.a.array.isRequired,location:O.a.object.isRequired,options:O.a.object.isRequired};var Le,_e=Ce,ke=function(){return b.a.createElement("div",{className:"no-data"},"No Data")},Pe=m.a.div(Le||(Le=Object(j.a)(["\n  background: #ffffff;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n"]))),Ie=function(){return b.a.createElement(Pe,null,b.a.createElement(ke,null))},Re=function(e){window.DICharts.handler.addChart({className:e,echarts:{onAdd:function(e){Array.prototype.forEach.call(e,(function(e){var t=new window.DICharts.Chart(e.parentElement);if(t.showLoading(),window.DIState){var n=Object(s.createRoot)(e);window.DIState.addListener((function(){t.showLoading();var e=window.DIState.getState,a=e.keyFacts,c=e.location;a&&a.url?_(a.url).then((function(e){Array.isArray(e)?n.render(b.a.createElement(_e,{data:e,options:a,location:c})):e.results?n.render(b.a.createElement(_e,{data:e.results,options:a,location:c})):(window.console.error("Invalid data shape. Expected an array or an object with a results property.",e),n.render(b.a.createElement(Ie,null)))})).catch((function(e){window.console.log(e),n.render(b.a.createElement(Ie,null))})):a&&a.data?n.render(b.a.createElement(_e,{data:a.data,options:a,location:c})):n.render(b.a.createElement(Ie,null)),t.hideLoading()}))}else window.console.log("State is not defined")}))}}})};window.addEventListener("load",(function(){A("district-selectors"),Re("dicharts--keyfacts")}))}},[[30,1,2]]]);